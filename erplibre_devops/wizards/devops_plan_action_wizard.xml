<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="devops_plan_action_form" model="ir.ui.view">
        <field name="name">devops.plan.action.form</field>
        <field name="model">devops.plan.action.wizard</field>
        <field name="mode">primary</field>
        <field name="inherit_id" ref="multi_step_wizard.multi_step_wizard_form" />
        <field name="arch" type="xml">
            <xpath expr="//button[@name='open_next']" position="replace">
                <button
                    name="open_next"
                    string="Next"
                    type="object"
                    class="btn-primary"
                    attrs="{'invisible': [('has_next', '=', False)]}"
                />
            </xpath>
            <xpath expr="//footer" position="before">
                <field name="root_workspace_id_is_me" invisible="True" />
                <field name="root_workspace_id" invisible="True" />
                <field name="has_next" invisible="True" />
                <!--                <h1>-->
                <!--                    <field name="name"-->
                <!--                           attrs="{'readonly': [('state', '!=', 'start')]}"-->
                <!--                           class="oe_inline"-->
                <!--                           placeholder="Name"/>-->
                <!--                </h1>-->
                <group name="init" attrs="{'invisible': [('state', '!=', 'init')]}">
                    <group>
                        <button
                            name="state_goto_a_autopoiesis_devops"
                            string="Autopoiesis DevOps"
                            type="object"
                            class="btn btn-default"
                            attrs="{'invisible': [('root_workspace_id_is_me', '=', False)]}"
                        />
                        <button
                            name="state_goto_not_supported"
                            string="New module"
                            type="object"
                            class="btn btn-default"
                        />
                        <button
                            name="state_goto_not_supported"
                            string="Existing module"
                            type="object"
                            class="btn btn-default"
                        />
                        <button
                            name="state_goto_not_supported"
                            string="Import data"
                            type="object"
                            class="btn btn-default"
                        />
                        <button
                            name="state_goto_not_supported"
                            string="Migrate from external DDB"
                            type="object"
                            class="btn btn-default"
                        />
                    </group>
                </group>
                <group
                    name="group_a_autopoiesis_devops"
                    attrs="{'invisible': [('state', '!=', 'a_autopoiesis_devops')]}"
                >
                    <group>
                        <button name="state_goto_a_a_model" string="Add model" type="object" class="btn btn-default" />
                        <button name="state_goto_a_b_field" string="Add field" type="object" class="btn btn-default" />
                        <button
                            name="state_goto_a_c_action"
                            string="Add action"
                            type="object"
                            class="btn btn-default"
                        />
                        <button name="state_goto_a_d_view" string="Add view" type="object" class="btn btn-default" />
                    </group>
                </group>
                <group name="group_a_autopoiesis_devops" attrs="{'invisible': [('state', '!=', 'a_a_model')]}">
                    <group>
                        <field name="model_name" />
                    </group>
                </group>
                <group name="not_supported" attrs="{'invisible': [('state', '!=', 'not_supported')]}">
                    <p>This state is not supported, please go back.</p>
                </group>
                <div name="final" attrs="{'invisible': [('state', '!=', 'final')]}">
                    <p>The planification is now configured, close this dialog below.</p>
                    <group>
                        <field
                            name="generated_new_project_id"
                            attrs="{'invisible': [('generated_new_project_id', '=', False)]}"
                        />
                    </group>
                </div>
            </xpath>
        </field>
    </record>

    <record id="devops_plan_action_action" model="ir.actions.act_window">
        <field name="name">Plan action</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">devops.plan.action.wizard</field>
        <field name="src_model">devops.workspace</field>
        <field name="view_mode">form</field>
        <field name="view_type">form</field>
        <field name="target">new</field>
    </record>
</odoo>
